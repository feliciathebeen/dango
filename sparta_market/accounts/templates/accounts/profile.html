{% extends 'base.html' %}
{% block content %}
    <h1>{{ username.username }}의 프로필 페이지</h1>
    <a href="{% url 'accounts:update'%}" class="btn btn-primary mb-3">회원정보수정</a>
    <div>
        {% if username.image %}
            <img src="{{ username.image.url }}" alt="{{ username.username }}의 프로필 이미지" class="img-fluid rounded mb-3" style="max-width: 200px;">
        {% endif %}

        <h2>username : {{ username.username }}</h2>
        <p>
            팔로워 : {{ username.followers.count }}명
            팔로잉 : {{ username.following.count }}명
        </p>
    </div>

    <div>
        <form action="{% url 'accounts:follow' username.pk %}" method="POST" class="mb-3">
            {% csrf_token %}
            {% if user in username.followers.all %}
                <button type="submit" class="btn btn-danger">언팔로우</button>
            {% else %}
                <button type="submit" class="btn btn-success">팔로우</button>
            {% endif %}
        </form>
    </div>

    <h2><strong>내가 등록한 상품</strong></h2>
    <ol reversed>
    <div class="d-flex flex-wrap">
        {% for article in articles %}
        <div class="card" style="width: 18rem; margin: 10px;">
        <div class="card-body">
            <h5 class="card-title">{{ article.title }}</h5>
            <p class="card-text">{{ article.content|truncatewords:20 }}</p>
            <a href="{% url 'products:detail' article.pk %}" class="btn btn-primary">상품 정보</a>
        </div>
        </div>
        {% endfor %}
    </div>
    </ol>
{% endblock content %}
